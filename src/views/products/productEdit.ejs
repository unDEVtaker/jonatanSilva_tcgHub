<!DOCTYPE html>
<html>

<head>
  <title>Editar Producto</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body {
      background-color: #000;
      color: #fff;
    }
  </style>
</head>

<body>
  <div class="container">
    <header class="text-center my-4">
      <h1>Product Edit</h1>
    </header>

    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card bg-dark text-white">
          <div class="card-body">
            <form method="POST" action="/products/edit/<%= product.id %>?_method=PUT">
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" name="name" value="<%= product.nombre %>" required>
              </div>
              <div class="mb-3">
                <label for="set_name" class="form-label">Set</label>
                <input type="text" class="form-control" id="set_name" name="set" value="<%= product.set_name %>"
                  required>
              </div>
              <div class="mb-3">
                <label for="foilType" class="form-label">Foil Type</label>
                <input type="text" class="form-control" id="foilType" name="foilType" value="<%= product.foilType %>"
                  required>
              </div>

              <div class="mb-3">
                <label for="api_id" class="form-label">Card ID</label>
                <input type="text" class="form-control" id="api_id" name="cardId" value="<%= product.api_id %>"
                  required>
              </div>
              <div class="mb-3">
                <label for="img" class="form-label">Imagen</label>
                <input type="text" class="form-control" id="img" name="cardImage" value="<%= product.img %>">
                <% if (product.img) { %>
                  <img src="<%= product.img %>" alt="Imagen actual" class="img-thumbnail mt-2" style="max-width:120px;">
                  <% } %>
              </div>
              <div class="mb-3">
                <label for="state_id" class="form-label">Estado de la carta</label>
                <select name="state_id" id="state_id" class="form-select" required>
                  <option value="">Selecciona el estado</option>
                  <% if (typeof states !=='undefined' ) { %>
                    <% states.forEach(state=> { %>
                      <option value="<%= state.id %>" <%=product.state_id==state.id ? 'selected' : '' %>><%= state.state
                          %>
                      </option>
                      <% }) %>
                        <% } %>
                </select>
              </div>
              <div class="mb-3">
                <label for="stock" class="form-label">Stock</label>
                <input type="number" class="form-control" id="stock" name="stock" value="<%= product.stock %>" min="1"
                  required>
              </div>
              <div class="mb-3">
                <label for="price" class="form-label">Precio</label>
                <input type="number" class="form-control" id="price" name="price" value="<%= product.precio %>"
                  min="0.01" step="0.01" required>
              </div>
              <div class="mb-3">
                <label for="description" class="form-label">Descripci√≥n</label>
                <textarea class="form-control" id="description" name="description"
                  required><%= product.descripcion %></textarea>
              </div>
              <div class="text-center">
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a href="/products/admin" class="btn btn-secondary">Cancelar</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>